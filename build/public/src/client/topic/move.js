"use strict";define("forum/topic/move",["categorySelector"],function(e){var o={};var t;var i;o.init=function(e,t,i){o.tids=e;o.currentCid=t;o.onComplete=i;o.moveAll=!e;socket.emit("categories.getMoveCategories",n)};function n(i,n){if(i){return app.alertError(i.message)}r(n,function(){t.on("hidden.bs.modal",function(){t.remove()});t.find("#move-confirm").addClass("hide");if(o.moveAll||o.tids&&o.tids.length>1){t.find(".modal-header h3").translateText("[[topic:move_topics]]")}e.init(t.find('[component="category-selector"]'),c);t.find("#move_thread_commit").on("click",a);t.modal("show")})}function r(e,o){app.parseAndTranslate("partials/move_thread_modal",{categories:e},function(e){t=$(e);o()})}function c(e){i=e;t.find("#move_thread_commit").prop("disabled",false)}function a(){var e=t.find("#move_thread_commit");if(!e.prop("disabled")&&i&&i.cid){e.prop("disabled",true);d()}}function d(){var e={tids:o.tids,cid:i.cid,currentCid:o.currentCid};$(window).trigger("action:topic.move",e);socket.emit(o.moveAll?"topics.moveAll":"topics.move",e,function(e){t.modal("hide");if(e){return app.alertError(e.message)}app.alertSuccess("[[topic:topic_move_success, "+i.name+"]]");if(typeof o.onComplete==="function"){o.onComplete()}})}return o});
//# sourceMappingURL=public/src/client/topic/move.js.map