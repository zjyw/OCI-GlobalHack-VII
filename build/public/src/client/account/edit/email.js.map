{"version":3,"sources":["public/src/client/account/edit/email.js"],"names":["define","header","AccountEditEmail","init","$","on","userData","uid","val","email","password","app","alertError","btn","this","addClass","find","removeClass","socket","emit","err","message","ajaxify","go","data","userslug"],"mappings":"AAAA,aAGAA,OAAO,4BAA6B,wBAAyB,SAAUC,GACtE,IAAIC,KAEJA,EAAiBC,KAAO,WACvBF,EAAOE,OAEPC,EAAE,cAAcC,GAAG,QAAS,WAC3B,IAAIC,GACHC,IAAKH,EAAE,aAAaI,MACpBC,MAAOL,EAAE,kBAAkBI,MAC3BE,SAAUN,EAAE,yBAAyBI,OAGtC,IAAKF,EAASG,MAAO,CACpB,OAGD,GAAIH,EAASG,QAAUH,EAASI,SAAU,CACzC,OAAOC,IAAIC,WAAW,mCAGvB,IAAIC,EAAMT,EAAEU,MACZD,EAAIE,SAAS,YAAYC,KAAK,KAAKC,YAAY,QAE/CC,OAAOC,KAAK,2BAA4Bb,EAAU,SAAUc,GAC3DP,EAAII,YAAY,YAAYD,KAAK,KAAKD,SAAS,QAC/C,GAAIK,EAAK,CACR,OAAOT,IAAIC,WAAWQ,EAAIC,SAG3BC,QAAQC,GAAG,QAAUD,QAAQE,KAAKC,SAAW,WAG9C,OAAO,SAIT,OAAOvB","file":"public/src/client/account/edit/email.js","sourcesContent":["'use strict';\n\n\ndefine('forum/account/edit/email', ['forum/account/header'], function (header) {\n\tvar AccountEditEmail = {};\n\n\tAccountEditEmail.init = function () {\n\t\theader.init();\n\n\t\t$('#submitBtn').on('click', function () {\n\t\t\tvar userData = {\n\t\t\t\tuid: $('#inputUID').val(),\n\t\t\t\temail: $('#inputNewEmail').val(),\n\t\t\t\tpassword: $('#inputCurrentPassword').val(),\n\t\t\t};\n\n\t\t\tif (!userData.email) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (userData.email === userData.password) {\n\t\t\t\treturn app.alertError('[[user:email_same_as_password]]');\n\t\t\t}\n\n\t\t\tvar btn = $(this);\n\t\t\tbtn.addClass('disabled').find('i').removeClass('hide');\n\n\t\t\tsocket.emit('user.changeUsernameEmail', userData, function (err) {\n\t\t\t\tbtn.removeClass('disabled').find('i').addClass('hide');\n\t\t\t\tif (err) {\n\t\t\t\t\treturn app.alertError(err.message);\n\t\t\t\t}\n\n\t\t\t\tajaxify.go('user/' + ajaxify.data.userslug + '/edit');\n\t\t\t});\n\n\t\t\treturn false;\n\t\t});\n\t};\n\n\treturn AccountEditEmail;\n});\n"]}